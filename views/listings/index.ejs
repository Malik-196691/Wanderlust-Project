<% layout('layouts/broilerplate') %>

<!-- Filters -->
<div id="filters">
  <% const filters = [
    { icon: "fa-solid fa-fire", label: "Trending" },
    { icon: "fa-solid fa-bed", label: "Rooms" },
    { icon: "fa-solid fa-mountain-city", label: "Cities" },
    { icon: "fa-solid fa-mountain", label: "Mountains" },
    { icon: "fa-brands fa-fort-awesome", label: "Castles" },
    { icon: "fa-solid fa-person-swimming", label: "Pools" },
    { icon: "fa-solid fa-campground", label: "Camping" },
    { icon: "fa-solid fa-cow", label: "Farms" },
    { icon: "fa-solid fa-snowflake", label: "Arctic" },
    { icon: "fa-solid fa-umbrella-beach", label: "Beach" },
    { icon: "fa-solid fa-tree", label: "Forest" },
    { icon: "fa-solid fa-igloo", label: "Igloos" }
  ]; %>

  <% filters.forEach(f => { %>
    <div class="filter">
      <i class="<%= f.icon %>"></i>
      <p><%= f.label %></p>
    </div>
  <% }) %>

  <!-- Tax Toggle -->
  <div class="tax-toggle">
    <label for="flexSwitchCheckDefault">
      <input type="checkbox" id="flexSwitchCheckDefault" />
      Tax included
    </label>
  </div>
</div>

<!-- Listings Grid -->
<div class="card-row">
  <% listings.forEach(listing => { %>
    <a  href="/listings/<%= listing._id %>" class="listing-card" style="text-decoration: none;">
      <div class="card listing">

        <!-- Card Image -->
        <div class="image-wrapper">
          <img src="<%= listing.image.url %>" class="card-img-top" alt="<%= listing.image.filename %>" />
          <!-- Wishlist Heart -->
          <button class="wishlist-btn">
            <i class="fa-regular fa-heart"></i>
          </button>
        </div>

        <!-- Card Info -->
        <div class="card-body">
          <h5 class="card-title"><%= listing.title %></h5>
          <p class="card-text">$<%= listing.price %> / night</p>
        </div>

      </div>
    </a>
  <% }) %>
</div>

<script src="/js/script.js"></script>
